[options]
# Docker Development Odoo 17 Configuration
# Optimized for fast development within Docker containers

# Admin settings
admin_passwd = 1234

# Database settings - PostgreSQL in Docker
db_host = db
db_port = 5432
db_user = admin
db_password = 1234
# db_name commented out for database flexibility
db_maxconn = 16  # Reduced for development
db_template = template0

# Server settings
http_port = 8069
gevent_port = 8072

# Module paths (Docker container paths)
addons_path = /opt/odoo/addons,/opt/odoo/custom_addons
server_wide_modules = base,web

# Data directory (Docker)
data_dir = /var/lib/odoo

# Logging (Docker optimized)
logfile = /var/log/odoo/odoo.log
log_level = info
logrotate = True
log_handler = :INFO
log_db = False
log_db_level = warning

# Development optimized settings (single worker for faster startup)
workers = 0  # Single worker for development - faster startup and debugging
max_cron_threads = 1  # Reduced for development

# Memory limits (development - more relaxed)
limit_memory_soft = 1073741824   # 1GB soft limit
limit_memory_hard = 2147483648   # 2GB hard limit
limit_time_cpu = 300             # Reduced CPU timeout for faster feedback
limit_time_real = 600            # Reduced real time timeout
limit_request = 4096             # Reduced for development

# Performance settings (development optimized)
cache_timeout = 50000    # Reduced cache timeout for development
enable_cache = True

# Security settings (relaxed for development)
proxy_mode = False
list_db = True

# Session settings (filesystem for development - no Redis dependency)
session_store = filesystem

# Email settings (development)
email_from = odoo@localhost
smtp_server = localhost
smtp_port = 25

# Development settings
dev_mode = reload,qweb,werkzeug,xml  # Enable all development modes

# Demo data (optional for development)
demo = False
without_demo = True

# Developer-friendly settings
unaccent = False  # Disable unaccent for simpler queries
translate_modules = ['all']

# Performance optimizations for development
osv_memory_count_limit = 100     # Reduced for development
osv_memory_age_limit = 0.5       # Faster cleanup

# Database performance (development)
db_sslmode = prefer

# Logging optimizations
log_handler = [':INFO']